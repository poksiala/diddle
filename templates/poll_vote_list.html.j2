<div class="vote-list">
  {% for choice in choices %}
  <div>
    <label for="choice_{{ choice.id }}">
      <input type="checkbox" name="choice_{{ choice.id }}" id="choice_{{ choice.id }}">
      <strong>
        {% include "poll_choice_datetime_range.html.j2" %}
      </strong>
      <span>
        <i>{{ choice.votes_with_value(1) | length }}&nbsp;votes</i>
      </span>
      <div>
        {% if choice.votes_with_value(1) | length != 0 %}
        Voted by: {% for vote in choice.votes_with_value(1) %}
        {{ vote.voter_name }}{% if not loop.last %}, {% endif %}
        {% endfor %}
        {% endif %}
      </div>
    </label>
  </div>
  <p></p>
  {% endfor %}
</div>

<div>
  <form action="/poll/{{ poll.id }}/vote" method="post">
    <label for="voter_name" hidden>Your name</label>
    <input type="text" name="voter_name" placeholder="Your name" required
           {% if prefill_voter_name %}value="{{ prefill_voter_name }}"{% endif %}>
    <input class="green" type="submit" value="Submit">
  </form>
</div>

{% if managed_voter_names | length != 0 %}
<br>
<br>
<h3>Remove submission(s)</h3>
{% endif %}
<div>
  {% for voter_name in managed_voter_names %}
  <form action="/poll/{{ poll.id }}/delete_voter" method="post">
    <input type="hidden" name="voter_code" value="{{ managed_voter_names[voter_name] }}">
    {{ voter_name }}
    <input class="delete-voter-btn" type="submit" value="❌">
  </form>
  {% endfor %}
</div>